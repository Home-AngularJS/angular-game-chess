<div class="board">
  <!-- if не может работать в одном и том же элементе div поэтому здесь для if используется ng-container -->
  <ng-container *ngIf="chessKnightPosition$|async as kp">
    <div class="square-container" *ngFor="let i of sixtyFour">
      <app-square *ngIf="xy(i) as pos" [black]="isBlack(pos)"  (click)="handleSquareClick(pos)">
        <app-chess-knight *ngIf="pos.x === kp.x && pos.y === kp.y"></app-chess-knight>
      </app-square>

<!--      <app-board-square *ngIf="xy(i) as pos" [position]="pos">-->
<!--        <app-chess-chess-knight *ngIf="pos.x === kp.x && pos.y === kp.y"></app-chess-chess-knight>-->
<!--      </app-board-square>-->
    </div>
  </ng-container>
</div>
